# Nxnest Boilerplate

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

## Requirements

1. [Node.js](https://nodejs.org/en/) >= 16.15.0
2. Install nx globally with `pnpm install -g nx`
3. Install dependencias in all apps and packages with `pnpm install -w`

## Development server

Add `.env` file in @pnpm-mono/http-gateway directory with the following content:

```
NODE_ENV=development
NODE_PORT=4000
NODE_LOG_LEVEL=info

JWT_TOKEN_EXPIRY=40000
JWT_ACCESS_TOKEN=
JWT_REFRESH_TOKEN=

AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_ACCESS_KEY=
AWS_S3_REGION=
AWS_S3_BUCKET=

DATABASE_HOST=
DATABASE_PORT=
DATABASE_USER=
DATABASE_PASS=
DATABASE_NAME=
```

Run `nx run @pnpm-mono/http-gateway:start:dev` for a dev server. Navigate to http://localhost:3333/api/v2/swagger for view documentation. The app will automatically reload if you change any of the source files.

Alternatively, you can install [nx-console](https://marketplace.visualstudio.com/items?itemName=nrwl.angular-console) for vscode. This plugin will allow you to run the commands from the IDE.

## Apps & Packages

Run `nx run @pnpm-mono/http-gateway:build` to build the project. The build artifacts will be stored in the `dist/` directory. The same command can be used to build all packages and apps.

## Understand this workspace

Run `nx graph` to see a [diagram](http://127.0.0.1:4211/projects/all) of the dependencies of the projects.

## Further help

All Nx commands are available in the `pnpm run` command. To see a list of available commands, run `pnpm --help`.

**Install all dependencies apps, packages and root workspace**

```sh
pnpm install
```

**Run command in specific package or app**

```sh
pnpm --filter @pnpm-mono/<package> <command>
```

```sh
pnpm --filter @pnpm-mono/<app> <command>
```

**Install all dependencies only in package or app specific**

```sh
pnpm --filter @pnpm-mono/<package> install
```

```sh
pnpm --filter @pnpm-mono/<app> install
```

**Add dependency to package or app specific**

```sh
pnpm --filter @pnpm-mono/<package> add <dependency> <flag>
```

**Add a local dependency, you must use the `--workspace` flag**

```sh
pnpm --filter @pnpm-mono/<package> --workspace add <dependency> <flag>
```

**Run the command on the root workspace project**

```sh
pnpm <command> <flag> -w
```
